# DokRU-TestTask
 Тестовое задание
# Задачи
## Задание 1
Одна лаборатория ищет лекарство от смертельной болезни. На испытание пришла партия из 1 000 пробирок с лекарством, которое нужно опробовать на людях. Стало известно, что среди пробирок одна является ядовитой. Внешне она ничем не отличается от медикамента. Необходимо как можно скорее отправить лекарство в больницы, но отправлять отравленную пробирку нельзя: погибнут люди. Испытание всех пробирок займут месяцы, это очень долго. Но в лаборатории есть лабораторные мыши. Известно, что лекарство безвредно для них, а даже капля яда их убьёт за сутки. Но в лаборатории только 10 мышей, а пробирок – 1 000. За какое время можно гарантированно найти пробирку с ядом?
### Ответ
Мне в голову приходит способ, которым проводился анализ крови на ковид:

1. Делим пробирки на 10 групп, далее берём небольшую долю (каплю) из каждой, сливаем в шприц. Каждой мышке достаниться 1 шприц. Одна умрет, а значит среди 100 пробирок, яд.

2. Повторяем процедуру: 100 пробирок в 9 групп. Далее 11/12 в 8 групп. И в конце у нас останется  1/2 пробирки среди которых яд.

Таким образом в лучшем случаи на 3 итерации, и гарантированно на 4.

## Задание 2
Руководителю IT отдела компании «Док.ру» сообщили, что хотят поощрить лучшего программиста у него в команде и его самого как руководителя. Руководитель предлагает решить двум своим программистам – junior и senior-программисту одинаковую задачу на скорость. Если задачу первым решит junior, то он получит $700, а руководитель отдела – $1400. Если задачу решит senior, то он получит $1400 в качестве признания за свой опыт, а руководитель – $700. Оказалось, что оба программиста решили задачу одновременно, а призовой фонд всего $2100. Как нужно поделить награду, чтобы она соответствовала начальным правилам? 

### Ответ
Получается у нас произошло 2 события: победил джуниор и победил синьер, а приз нужно разделить на 2 части:
1. $350 junior и $700 начальнику 
2. $700 senior и $350 начальнику

Итого $350 junior, $700 senior, $1050 руководитель

## Задание 3
На кухне компании «Док.ру» поставили 3 автомата, которые наливают напитки. В первом – зеленый чай, во втором – черный, а третий выдаёт случайным образом то черный, то зеленый чай. Но пара программистов решила подшутить над коллегами и поменяла маркировку автоматов, поэтому на каждом из них оказалась неправильная наклейка. Сколько попыток понадобится, чтобы понять где какой напиток?

### Ответ
1. Берем напиток из автомата с маркировкой случайного, он выдал чай -> это автомат с выдающий чай, выдал кофе -> выдающий кофе.
2. Получили чай, значит за маркировкой чая кофейный автомат (т.к. с маркировкой кофе не может быть кофейный автомат). С кофе наоборот.
3. А оставшийся автомат выдает случайный напиток
   
Ответ - одна попытка


## Задание 4
Напишите функцию, которая в качестве аргумента принимает натуральное число n и возвращает сумму цифр этого числа. Если это значение имеет более одной цифры, продолжайте уменьшать его таким образом, пока не будет получено одноразрядное число. Это применимо только к натуральным числам. 
Пример: 	my_function(16)    1 + 6 = 7
   		my_function(942)    9 + 4 + 2 = 15    1 + 5 = 6

### Ответ

```csharp
        /// <param name="number">натуральное число</param>
        /// <returns>Возвращает сумму цифр этого числа. Если результат > 10 
        /// продолжает операцию,
        /// пока не будет получено одноразрядное число.</returns>
        static uint my_function(uint number)
        {
            if (number < 10) return number;

            uint temp = 0;
            while (number != 0)
            {
                temp += number % 10;
                number /= 10;
            }
            return my_function(temp);
        }
```

## Задание 5
Напишите функцию, которая принимает количество американской валюты центы (cents) и возвращает словарь / хэш, который показывает наименьшее количество монет, используемых для создания этой суммы. Рассматриваются только номиналы монет: Pennies (1¢), Nickels (5¢), Dimes (10¢) and Quarters (25¢). Поэтому возвращаемый словарь должен содержать ровно 4 пары ключ / значение.

### Ответ
Поскольку данные монеты позволяют решить задачу жадным алгоритмом, так и поступим.
```csharp
        /// <summary>
        /// Словарь, содержащий названия монет и их номиналы
        /// </summary>
        static Dictionary<string, int> nominals = new Dictionary<string, int>()
        {
            { "Quarters", 25 },
            { "Dimes", 10 },
            { "Nickels", 5 },
            { "Pennies", 1 },
        };

        /// <param name="number">Сумма, которую нужно выдать мелочью</param>
        /// <returns>Словарь, содержащий монеты</returns>
        static Dictionary<string, int> my_function(float number)
        {
            var cents = new Dictionary<string, int>();
            foreach (var item in nominals)
            {
                var temp = (int)( number / item.Value);
                cents.Add(item.Key, number > 0 ? temp: 0);
                number -= temp * item.Value;
            }
            return cents;
        }
```

## Задание 6
Напишите функцию, которая может принимать любое неотрицательное целое число в качестве аргумента и возвращать его вместе с цифрами в порядке убывания. Переставьте цифры так, чтобы на выходе создать максимально возможное число.

### Ответ
Для оптимальности подсчитаем количество каждых чисел, а далее выведем их n раз в порядке от 9 до 0
```csharp
        /// <param name="number">Число, которое необходимо преобразить/param>
        /// <returns>Число с наибольшим значением</returns>
        static long my_function(long number)
        {
            var A = new int[10];
            while (number > 0)
            {
                A[number % 10] += 1;
                number /= 10;
            }
            for (int i = 9; i > 0; --i)
            {
                for (int j = 0; j < A[i]; ++j)
                {
                    number *= 10;
                    number += i;
                }
            }
            return number;
        }
```
## Задание 7
Дана пирамида чисел:

                    1
                3     5
            7     9    11
        13    15    17    19
    21    23    25    27    29
                ...
Напишите функцию, которая вычисляет сумму строки этого треугольника из переданного в функцию индекса строки (начиная с индекса 1).
Пример: 	my_function (2)  3 + 5  8


### Ответ
Простые школьные формулы на арифметические прогрессии:
Находим 1 элемент строки, последний и полу сумму умножаем  на количество элементов
```csharp
        /// <param name="number">Строка пирамиды/param>
        /// <returns>Сумма чисел в данной строке</returns>
        static int my_function(int number)
        {
            if (number <= 0) throw (new Exception("Число должно быть больше или равно единицы"));
            var x1 = number * (number - 1) + 1;
            var xn = x1 + (number - 1) * 2;
            number = (x1 + xn) / 2 * number;
            return number;
        }
```

## Задание 8
Напишите функцию, которая не принимает аргументов и всегда возвращает 5. Звучит просто, не правда ли? Просто имейте в виду, что вы не можете использовать ни один из следующих символов: 
0 1 2 3 4 5 6 7 8 9 * + - /

## Ответ
```csharp
        /// <summary>
        /// Функция по генерации пятюнь
        /// </summary>
        /// <returns>Число Пять
        /// </returns>
        static int returnFive()
        {
            List <string> Fives = new List<string> { "OneFive", "TwoFive", "ThreeFive", "FourFive", "FiveFive" };
            return Fives.Count;
        }
```
Ну или если упростить:
```csharp
        class Five
        {
            public int  five  { get; set;}
        }
        class Fiveses : List <string>
        {

        }

        int returnFive()
        {
            Fiveses Fives = new Fiveses { "OneFive", "TwoFive", "ThreeFive", "FourFive", "FiveFive" };
            Five five = new Five();
            five.five = Fives.Count;
            return five.five;
        }
```


# SQL
1. Вывести список автомобилей, которые были созданы на базе авто той же марки (название авто)
```sql
SELECT x.name 
    FROM Cars AS x 
        JOIN Cars AS y ON x.baseid = y.id 
    WHERE x.brandid = y.brandid
```
2. Вывести список марок, которые содержат больше 3 автомобилей в представленном списке (название марки)
```sql
SELECT Brands.Name 
    FROM Cars 
        JOIN Brands ON Cars.brandid = Brands.id  
    GROUP BY Brands.Name  
    HAVING COUNT(Brands.Name) > 3
```
3. Вывести список марок с необходимой суммой на покупку всего модельного ряда (название марки + сумма)
```sql
SELECT Brands.Name, SUM(Cars.price)  
    FROM Cars 
        JOIN Brands ON Cars.brandid = Brands.id
    GROUP BY Brands.Name 
```
4. Вывести список двух стран с максимальной средней мощностью автомобилей (название страны + средняя мощность)
```sql
SELECT TOP(2) Countries.Name, AVG(Cars.pow)  
    FROM Cars 
        JOIN Brands ON Cars.brandid = Brands.id 
        JOIN Countries ON Brands.CountryID = Countries.ID 
    GROUP By Countries.Name 
    ORDER BY AVG(Cars.pow) DESC
```
5. Вывести список самых дешевых автомобилей каждой марки (название авто + название марки)
```sql
SELECT Brands.Name, Cars.name
FROM Cars JOIN Brands ON Cars.brandid = Brands.id
INNER JOIN(
    SELECT
     Brands.Name AS name,
     MIN(Cars.price) AS price
    FROM Cars JOIN Brands ON Cars.brandid = Brands.id
    GROUP BY Brands.Name
) AS temp
ON Brands.Name=temp.name AND Cars.price=temp.price
```


